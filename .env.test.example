# BDP Test Environment Configuration
#
# This file contains example configuration for running integration tests.
# Copy this file to .env.test and modify as needed.
#
# Note: The test script will use these values if .env.test exists,
# otherwise it will use the defaults defined in the script.

# ============================================================================
# Database Configuration
# ============================================================================

# Test database connection URL
# Default: postgresql://bdp_test:test_password@localhost:5433/bdp_test
DATABASE_URL=postgresql://bdp_test:test_password@localhost:5433/bdp_test

# ============================================================================
# Logging Configuration
# ============================================================================

# Rust logging level
# Options: error, warn, info, debug, trace
# Default: info
RUST_LOG=info

# SQLx logging (set to 'warn' to reduce noise during tests)
# Default: warn
SQLX_LOG=warn

# ============================================================================
# Test Execution Configuration
# ============================================================================

# Number of parallel test threads
# Set to 1 for sequential execution
# Set to 0 for automatic (based on CPU cores)
# Default: 0 (automatic)
TEST_THREADS=0

# ============================================================================
# Database Performance Tuning (for tests)
# ============================================================================

# Maximum number of database connections per pool
# Default: 5
DATABASE_MAX_CONNECTIONS=5

# Connection timeout in seconds
# Default: 10
DATABASE_CONNECT_TIMEOUT=10

# ============================================================================
# Test Behavior
# ============================================================================

# Keep test database running after tests complete
# Useful for debugging
# Options: true, false
# Default: false
KEEP_TEST_DB=false

# Keep test database only when tests fail
# Useful for investigating failures
# Options: true, false
# Default: false
KEEP_TEST_DB_ON_FAILURE=false

# ============================================================================
# Docker Configuration
# ============================================================================

# Docker Compose file for tests
# Default: docker/docker-compose.test.yml
TEST_COMPOSE_FILE=docker/docker-compose.test.yml

# Test database container name
# Default: bdp-postgres-test
TEST_CONTAINER_NAME=bdp-postgres-test

# ============================================================================
# SQLx Configuration
# ============================================================================

# Enable offline mode (use prepared query metadata)
# This speeds up compilation but requires running `cargo sqlx prepare` first
# Options: true, false
# Default: false
SQLX_OFFLINE=false
