{
  "db_name": "PostgreSQL",
  "query": "\n        SELECT\n            re.id,\n            re.organization_id,\n            o.slug as organization_slug,\n            o.name as organization_name,\n            re.slug,\n            re.name,\n            re.description,\n            ds.source_type,\n            ds.external_id,\n            COALESCE(pm.taxonomy_id, CASE WHEN ds.source_type = 'organism' THEN ds.id ELSE NULL END) as organism_id,\n            COALESCE(om_ref.taxonomy_id, om_direct.taxonomy_id) as ncbi_taxonomy_id,\n            COALESCE(om_ref.scientific_name, om_direct.scientific_name) as scientific_name,\n            COALESCE(om_ref.common_name, om_direct.common_name) as common_name,\n            pm.accession as protein_accession,\n            pm.entry_name as protein_entry_name,\n            pm.protein_name,\n            pm.gene_name,\n            pm.sequence_length,\n            pm.mass_da,\n            pm.sequence_checksum,\n            pm.alternative_names,\n            pm.ec_numbers,\n            pm.protein_existence,\n            pm.keywords,\n            pm.organelle,\n            COALESCE(om_ref.rank, om_direct.rank) as organism_rank,\n            re.created_at as \"created_at!\",\n            re.updated_at as \"updated_at!\"\n        FROM registry_entries re\n        JOIN data_sources ds ON re.id = ds.id\n        JOIN organizations o ON re.organization_id = o.id\n        LEFT JOIN protein_metadata pm ON ds.id = pm.data_source_id\n        LEFT JOIN taxonomy_metadata om_ref ON pm.taxonomy_id = om_ref.data_source_id\n        LEFT JOIN taxonomy_metadata om_direct ON ds.id = om_direct.data_source_id AND ds.source_type = 'organism'\n        WHERE LOWER(o.slug) = LOWER($1) AND LOWER(re.slug) = LOWER($2)\n        ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "id",
        "type_info": "Uuid"
      },
      {
        "ordinal": 1,
        "name": "organization_id",
        "type_info": "Uuid"
      },
      {
        "ordinal": 2,
        "name": "organization_slug",
        "type_info": "Varchar"
      },
      {
        "ordinal": 3,
        "name": "organization_name",
        "type_info": "Varchar"
      },
      {
        "ordinal": 4,
        "name": "slug",
        "type_info": "Varchar"
      },
      {
        "ordinal": 5,
        "name": "name",
        "type_info": "Varchar"
      },
      {
        "ordinal": 6,
        "name": "description",
        "type_info": "Text"
      },
      {
        "ordinal": 7,
        "name": "source_type",
        "type_info": "Varchar"
      },
      {
        "ordinal": 8,
        "name": "external_id",
        "type_info": "Varchar"
      },
      {
        "ordinal": 9,
        "name": "organism_id",
        "type_info": "Uuid"
      },
      {
        "ordinal": 10,
        "name": "ncbi_taxonomy_id",
        "type_info": "Int4"
      },
      {
        "ordinal": 11,
        "name": "scientific_name",
        "type_info": "Varchar"
      },
      {
        "ordinal": 12,
        "name": "common_name",
        "type_info": "Varchar"
      },
      {
        "ordinal": 13,
        "name": "protein_accession",
        "type_info": "Varchar"
      },
      {
        "ordinal": 14,
        "name": "protein_entry_name",
        "type_info": "Varchar"
      },
      {
        "ordinal": 15,
        "name": "protein_name",
        "type_info": "Text"
      },
      {
        "ordinal": 16,
        "name": "gene_name",
        "type_info": "Varchar"
      },
      {
        "ordinal": 17,
        "name": "sequence_length",
        "type_info": "Int4"
      },
      {
        "ordinal": 18,
        "name": "mass_da",
        "type_info": "Int8"
      },
      {
        "ordinal": 19,
        "name": "sequence_checksum",
        "type_info": "Varchar"
      },
      {
        "ordinal": 20,
        "name": "alternative_names",
        "type_info": "TextArray"
      },
      {
        "ordinal": 21,
        "name": "ec_numbers",
        "type_info": "TextArray"
      },
      {
        "ordinal": 22,
        "name": "protein_existence",
        "type_info": "Int4"
      },
      {
        "ordinal": 23,
        "name": "keywords",
        "type_info": "TextArray"
      },
      {
        "ordinal": 24,
        "name": "organelle",
        "type_info": "Varchar"
      },
      {
        "ordinal": 25,
        "name": "organism_rank",
        "type_info": "Varchar"
      },
      {
        "ordinal": 26,
        "name": "created_at!",
        "type_info": "Timestamptz"
      },
      {
        "ordinal": 27,
        "name": "updated_at!",
        "type_info": "Timestamptz"
      }
    ],
    "parameters": {
      "Left": [
        "Text",
        "Text"
      ]
    },
    "nullable": [
      false,
      false,
      false,
      false,
      false,
      false,
      true,
      false,
      true,
      null,
      null,
      null,
      null,
      false,
      true,
      true,
      true,
      true,
      true,
      true,
      true,
      true,
      true,
      true,
      true,
      null,
      true,
      true
    ]
  },
  "hash": "a44c77874d6b3a7f1914afb8673b8e79351b1a978a86674236334fb02e3c42f0"
}
